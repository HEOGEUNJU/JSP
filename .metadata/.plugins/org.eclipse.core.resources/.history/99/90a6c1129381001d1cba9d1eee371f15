package kr.or.ddit.servlet08;

import java.util.Calendar;
import static java.util.Calendar.*;

import java.text.DateFormatSymbols;

public class CalenderWrapper {
	private Calendar adaptee;
	private int offset;
	private int dayOfWeekFirst;
	private int lastDate;
	private String[] weekDays;
	private int beforeYear;
	private int beforeMonth;
	private int nextYear;
	private int nextMonth;
	
	
	public CalenderWrapper(Calendar adaptee) {
		super();
		this.adaptee = adaptee;
		
		DateFormatSymbols dfs = DateFormatSymbols.getInstance();
		weekDays = dfs.getWeekdays();
		
		adaptee.set(DAY_OF_MONTH, 1);
		dayOfWeekFirst = adaptee.get(DAY_OF_WEEK);
		offset = dayOfWeekFirst - SUNDAY;
		lastDate = adaptee.getActualMaximum(DAY_OF_MONTH);
		
		adaptee.add(MONTH, -1);
		beforeYear = adaptee.get(YEAR);
		beforeMonth = adaptee.get(MONTH);
		
		adaptee.add(MONTH, +2);
		nextYear = adaptee.get(YEAR);
		nextMonth = adaptee.get(MONTH);
		
		adaptee.add(MONTH, =1);
	}

	public Calendar getAdaptee() {
		return adaptee;
	}

	public void setAdaptee(Calendar adaptee) {
		this.adaptee = adaptee;
	}

	public int getOffset() {
		return offset;
	}

	public void setOffset(int offset) {
		this.offset = offset;
	}

	public int getDayOfWeekFirst() {
		return dayOfWeekFirst;
	}

	public void setDayOfWeekFirst(int dayOfWeekFirst) {
		this.dayOfWeekFirst = dayOfWeekFirst;
	}

	public int getLastDate() {
		return lastDate;
	}

	public void setLastDate(int lastDate) {
		this.lastDate = lastDate;
	}
	
	public String[] getWeekDays() {
		return weekDays;
	}

	public void setWeekDays(String[] weekDays) {
		this.weekDays = weekDays;
	}

	@Override
	public String toString() {
		return String.format("%1$tY, %1$tB", adaptee);
	}
	
	
}
